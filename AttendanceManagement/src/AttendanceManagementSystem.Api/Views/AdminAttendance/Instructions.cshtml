@{
    ViewData["Title"] = "Подробная Инструкция для Администратора";
}

<style>
    /* Animatsiyalar */
    @@keyframes rocketBounce {
        0%, 100% {
            transform: translateY(0) rotate(-45deg);
        }

        50% {
            transform: translateY(-15px) rotate(-45deg);
        }
    }

    .rocket-animation {
        display: inline-block;
        animation: rocketBounce 2s infinite ease-in-out;
        font-size: 3rem;
        color: #007bff;
    }

    /* Asosiy Wrapper */
    .instruction-wrapper {
        font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        color: #2c3e50;
        line-height: 1.7;
        background-color: #f8f9fa;
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        color: white;
        border-radius: 24px;
        padding: 80px 40px;
        margin-bottom: 50px;
        box-shadow: 0 15px 35px rgba(30, 60, 114, 0.2);
    }

    /* Section Konteynerlari */
    .section-container {
        background: #ffffff;
        border-radius: 20px;
        padding: 45px;
        margin-bottom: 40px;
        border: none;
        box-shadow: 0 8px 20px rgba(0,0,0,0.04);
        transition: transform 0.3s ease;
    }

        .section-container:hover {
            transform: translateY(-5px);
        }

    /* Tugmalar va Etiketkalar */
    .btn-label {
        font-weight: 800;
        padding: 8px 20px;
        border-radius: 10px;
        font-size: 0.85rem;
        display: inline-block;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .step-dot {
        height: 45px;
        width: 45px;
        background: #007bff;
        color: white;
        border-radius: 14px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 20px;
        font-weight: 900;
        box-shadow: 0 4px 10px rgba(0,123,255,0.3);
    }

    /* Ro'yxatlar */
    .info-list {
        list-style: none;
        padding-left: 0;
    }

        .info-list > li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 18px;
        }

            .info-list > li::before {
                content: "\f058";
                font-family: "Font Awesome 5 Free";
                font-weight: 900;
                position: absolute;
                left: 0;
                color: #28a745;
                font-size: 1.2rem;
            }

    .admin-entry-card {
        background: white;
        border-radius: 30px;
        border: 1px solid #eef2f7;
        box-shadow: 0 20px 40px rgba(0,0,0,0.05);
        position: relative;
        overflow: hidden;
    }

    /* Admin badge (kichik yozuv) */
    .admin-badge {
        background: #e7f1ff;
        color: #007bff;
        padding: 6px 16px;
        border-radius: 50px;
        font-weight: 800;
        font-size: 0.75rem;
        letter-spacing: 1.5px;
    }

    /* Chiroyli ko'k chiziq */
    .h-line {
        height: 2px;
        width: 60px;
        background: #007bff;
        opacity: 0.3;
    }

    /* O'ng tarafdagi doira ichidagi ikonka */
    .admin-icon-circle {
        width: 180px;
        height: 180px;
        background: #f8fbff;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 5rem;
        border: 10px solid #ffffff;
        box-shadow: inset 0 0 20px rgba(0,0,0,0.02);
    }

    .shadow-icon {
        filter: drop-shadow(0 10px 15px rgba(0,123,255,0.2));
    }

    /* Matn rangi */
    .text-primary {
        color: #007bff !important;
    }

    /* Kartochkalar */
    .accent-card {
        border-left: 6px solid #007bff;
        background: #f8fbff;
        padding: 30px;
        border-radius: 0 15px 15px 0;
        margin-bottom: 25px;
    }

    .warning-box {
        background: #fff5f5;
        border-left: 6px solid #e74c3c;
        padding: 25px;
        border-radius: 12px;
        margin: 30px 0;
    }

    .sub-title {
        font-weight: 700;
        color: #1e3c72;
        margin-bottom: 12px;
        font-size: 1.1rem;
    }

    .icon-box {
        background: #fff;
        border: 1px solid #eef2f7;
        padding: 20px;
        border-radius: 15px;
        height: 100%;
        transition: all 0.3s ease;
    }

        .icon-box:hover {
            background: #f1f8ff;
            border-color: #007bff;
        }
</style>

<div class="container-fluid mb-5">
    <div class="admin-entry-card p-5">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <div class="d-flex align-items-center mb-3">
                    <div class="admin-badge">
                        <i class="fas fa-user-shield mr-2"></i> ADMIN 
                    </div>
                    <div class="h-line ml-3"></div>
                </div>

                <h1 class="display-4 font-weight-bold text-dark mb-3">
                    Инструкция <br>
                    <span class="text-primary">Главного Администратора</span>
                </h1>

                <p class="lead text-muted" style="max-width: 550px;">
                    Добро пожаловать в центр управления. Здесь собраны все инструменты и правила для эффективного контроля системы посещаемости.
                </p>
            </div>

            <div class="col-lg-4 text-center d-none d-lg-block">
                <div class="admin-icon-circle">
                    <i class="fas fa-tools text-primary shadow-icon"></i>
                </div>
            </div>
        </div>
    </div>
</div>


        <section class="section-container">
            <h2 class="mb-5 text-primary d-flex align-items-center">
                <span class="step-dot">1</span> Синхронизация данных (Логи)
            </h2>

            <div class="accent-card">
                <span class="btn-label bg-primary text-white">Шаг 1. ЗАГРУЗИТЬ ЛОГИ</span>
                <div class="mt-2">
                    <p class="font-weight-bold text-dark">Прежде чем работать с табелем, нужно получить данные из облака TTLock.</p>
                    <ul class="info-list">
                        <li><strong>Как это работает:</strong> Система запрашивает API TTLock и загружает все новые события проходов.</li>
                        <li><strong>Защита от дублей:</strong> Алгоритм проверяет последнюю запись в базе и добавляет фильтр +2 секунды, чтобы исключить повторы.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section-container">
            <h2 class="mb-5 text-success d-flex align-items-center">
                <span class="step-dot bg-success">2</span> Управление табелями 
            </h2>

            <div class="accent-card" style="border-left-color: #28a745; background: #f4fff7;">
                <span class="btn-label bg-success text-white">Центральный функционал</span>
                <p class="font-weight-bold mb-4">В разделе "Управление табелями" система работает автоматически:</p>

                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="icon-box shadow-sm">
                            <div class="sub-title text-primary"><i class="fas fa-magic mr-2"></i> Умная Генерация</div>
                            <p class="small text-muted mb-0">При первом нажатии создается сетка месяца. При повторных — заполняются только пустые ячейки (где было 00:00) новыми данными.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="icon-box shadow-sm">
                            <div class="sub-title text-info"><i class="fas fa-calendar-alt mr-2"></i> Просмотр Табеля</div>
                            <p class="small text-muted mb-0">Индивидуальный календарь сотрудника. Здесь можно оправдать опоздание (Justified) или скорректировать время вручную.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="icon-box shadow-sm">
                            <div class="sub-title text-dark"><i class="fas fa-database mr-2"></i> Данные</div>
                            <p class="small text-muted mb-0">Кнопка <strong>"Все входы"</strong> покажет вам абсолютно все касания сотрудником терминала, а не только первое за день.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box mt-4">
                <h5 class="font-weight-bold text-danger"><i class="fas fa-exclamation-triangle mr-2"></i> ВАЖНОЕ ПРАВИЛО</h5>
                <p class="mb-0">Если вы видите <strong>00:00</strong> в табеле — это значит либо сотрудник не пришел, либо вы еще не нажали "Генерировать табель" после загрузки свежих логов.</p>
            </div>
        </section>

        <section class="section-container">
            <h2 class="mb-5 text-secondary d-flex align-items-center">
                <span class="step-dot bg-secondary">3</span> Оперативный мониторинг
            </h2>
            <div class="accent-card" style="border-left-color: #6c757d; background: #fdfdfd;">
                <span class="btn-label bg-dark text-white">ЕЖЕДНЕВНЫЙ ОТЧЕТ</span>
                <p class="mb-3">Инструмент для контроля ситуации "здесь и сейчас":</p>
                <div class="row">
                    <div class="col-md-4"><div class="p-2 mb-2 rounded bg-success text-white text-center"><i class="fas fa-check-circle mr-1"></i> Вовремя</div></div>
                    <div class="col-md-4"><div class="p-2 mb-2 rounded bg-danger text-white text-center"><i class="fas fa-clock mr-1"></i> Опоздали</div></div>
                    <div class="col-md-4"><div class="p-2 mb-2 rounded bg-warning text-dark text-center"><i class="fas fa-user-slash mr-1"></i> Отсутствуют</div></div>
                </div>
            </div>
        </section>

        <section class="section-container" style="border-top: 5px solid #dc3545 !important;">
            <h2 class="mb-5 text-danger d-flex align-items-center">
                <span class="step-dot bg-danger">4</span> Настройки и Безопасность
            </h2>
            <div class="row g-4">
        <div class="col-md-4">
            <div class="p-3 border-start border-primary border-4 bg-light rounded-right h-100">
                <h6 class="font-weight-bold text-dark">
                    <i class="fas fa-file-invoice-dollar text-primary mr-2"></i>
                    Месячная Отчетность
                </h6>
                <p class="small text-muted mb-2">
                    <strong>Назначение:</strong> Финальный свод данных за календарный месяц для бухгалтерии и отдела кадров.
                </p>
                <hr>
                <p class="small font-weight-bold mb-1">Что включает в себя отчет:</p>
                <ul class="small text-muted pl-3 mb-3">
                    <li><strong>Итоги месяца:</strong> Общее количество минут опозданий по каждому сотруднику.</li>
                    <li><strong>Контроль лимитов:</strong> Автоматический расчет превышения допустимых норм (лимитов) опозданий.</li>
                    <li><strong>Архив:</strong> Возможность просмотреть историю </li>
                </ul>
                <div class="p-2 bg-white rounded border">
                    <p class="small mb-0 text-dark">
                        <i class="fas fa-calendar-check text-success mr-1"></i>
                        <strong>Когда использовать:</strong> Обычно в конце месяца.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="p-3 border-start border-warning border-4 bg-light rounded-right h-100 shadow-sm">
                <h6 class="font-weight-bold text-dark">
                    <i class="fas fa-business-time text-warning mr-2"></i>
                    Рабочие Графики
                </h6>
                <p class="small text-muted mb-2">
                    <strong>Миссия:</strong> Установка "эталонного" времени прихода для автоматического расчета опозданий.
                </p>
                <hr>
                <div class="small mb-3">
                    <p class="mb-1"><strong><i class="fas fa-keyboard text-muted mr-1"></i> Правила ввода:</strong></p>
                    <ul class="text-muted pl-3 mb-2">
                        <li>Строго проверяйте формат <strong>AM / PM</strong> (например, 09:00 AM — утро, 09:00 PM — вечер).</li>
                    </ul>
                </div>

               
                </div>
            </div>
       

        <div class="col-md-4">
            <div class="p-3 border-start border-danger border-4 bg-light rounded-right h-100">
                <h6 class="font-weight-bold text-dark">
                    <i class="fas fa-id-card text-danger mr-2"></i>
                    Синхронизация данных
                </h6>
                <p class="small text-muted mb-2">
                    <strong>Функция:</strong> Привязка аппаратных ID из системы TTLock к именам сотрудников в вашей базе.
                </p>
                <hr>
                <p class="small font-italic mb-0">
                    <i class="fas fa-exclamation-circle text-danger mr-1"></i>
                    <strong>Когда это обязательно:</strong>
                </p>
                <ul class="small text-muted pl-3 mt-2">
                    <li><strong>Первый запуск:</strong> При самой первой настройке системы.</li>
                    <li><strong>Новый сотрудник:</strong> Сразу после добавления нового человека в TTLock и выдачи ему IC-карты.</li>
                    <li><strong>Изменение данных:</strong> Если вы переименовали сотрудника или заменили ему карту/ID.</li>
                </ul>
               
            </div>
        </div>
            </div>
        </section>

        <div class="text-center mt-5 pt-5 border-top">
            <div class="mb-4">
                <span class="rocket-animation">🚀</span>
            </div>
            <h3 class="font-weight-bold">Поздравляю, вы в теме!</h3>
            <p class="text-muted mx-auto" style="max-width: 600px;">
                Теперь вы знаете все тонкости работы системы. 
                Система максимально автоматизирована. Ваша задача — вовремя загружать логи и проверять обоснованность опозданий.

            </p>

            <div class="mt-4">
                <a asp-controller="AdminAttendance" asp-action="Dashboard" class="btn btn-primary btn-lg px-5 shadow" style="border-radius: 15px; font-weight: bold;">
                    <i class="fas fa-arrow-left mr-2"></i>  Вернуться к управлению
                </a>
            </div>

            <div class="mt-5 text-secondary">
                <small><i class="fas fa-info-circle mr-1"></i> Чтение инструкции закончено. Успешного рабочего дня!</small>
            </div>
        </div>
    </div>
</div>