@{
    ViewData["Title"] = "Подробная Инструкция для Администратора";
}

<style>
    /* Animatsiyalar */
    @@keyframes rocketBounce {
        0%, 100% {
            transform: translateY(0) rotate(-45deg);
        }

        50% {
            transform: translateY(-15px) rotate(-45deg);
        }
    }

    @@keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @@keyframes pulse {
        0%, 100% {
            transform: scale(1);
        }

        50% {
            transform: scale(1.05);
        }
    }

    @@keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    .rocket-animation {
        display: inline-block;
        animation: rocketBounce 2s infinite ease-in-out;
        font-size: 3.5rem;
        color: #007bff;
        filter: drop-shadow(0 10px 20px rgba(0, 123, 255, 0.3));
    }

    /* Asosiy Wrapper */
    .instruction-wrapper {
        font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        color: #2c3e50;
        line-height: 1.8;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding-bottom: 60px;
    }

    /* Hero Section - yanada jozibali */
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        background-size: 200% 200%;
        animation: gradientShift 15s ease infinite;
        color: white;
        border-radius: 30px;
        padding: 100px 50px;
        margin-bottom: 60px;
        box-shadow: 0 20px 60px rgba(102, 126, 234, 0.4);
        position: relative;
        overflow: hidden;
    }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 8s infinite ease-in-out;
        }

    /* Section Konteynerlari */
    .section-container {
        background: #ffffff;
        border-radius: 25px;
        padding: 50px;
        margin-bottom: 45px;
        border: none;
        box-shadow: 0 15px 35px rgba(0,0,0,0.08);
        transition: all 0.4s ease;
        animation: fadeInUp 0.6s ease-out;
        position: relative;
        overflow: hidden;
    }

        .section-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .section-container:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.12);
        }

            .section-container:hover::before {
                width: 100%;
                opacity: 0.05;
            }

    /* Tugmalar va Etiketkalar */
    .btn-label {
        font-weight: 800;
        padding: 12px 28px;
        border-radius: 15px;
        font-size: 0.85rem;
        display: inline-block;
        margin-bottom: 25px;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.15);
        transition: all 0.3s ease;
    }

        .btn-label:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.2);
        }

    .step-dot {
        height: 55px;
        width: 55px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 18px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 25px;
        font-weight: 900;
        font-size: 1.5rem;
        box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        transition: all 0.3s ease;
    }

        .step-dot:hover {
            transform: scale(1.1) rotate(5deg);
        }

    /* Ro'yxatlar */
    .info-list {
        list-style: none;
        padding-left: 0;
    }

        .info-list > li {
            position: relative;
            padding-left: 45px;
            margin-bottom: 22px;
            transition: all 0.3s ease;
        }

            .info-list > li:hover {
                transform: translateX(10px);
            }

            .info-list > li::before {
                content: "\f058";
                font-family: "Font Awesome 5 Free";
                font-weight: 900;
                position: absolute;
                left: 0;
                color: #28a745;
                font-size: 1.4rem;
                animation: pulse 2s infinite;
            }

    .admin-entry-card {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border-radius: 35px;
        border: none;
        box-shadow: 0 25px 50px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }

        .admin-entry-card::after {
            content: '';
            position: absolute;
            top: -100px;
            right: -100px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
            border-radius: 50%;
        }

    /* Admin badge */
    .admin-badge {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 10px 24px;
        border-radius: 50px;
        font-weight: 800;
        font-size: 0.8rem;
        letter-spacing: 2px;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    /* Chiroyli chiziq */
    .h-line {
        height: 3px;
        width: 80px;
        background: linear-gradient(90deg, #667eea 0%, transparent 100%);
    }

    /* Doira ichidagi ikonka */
    .admin-icon-circle {
        width: 200px;
        height: 200px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-size: 5.5rem;
        border: 15px solid rgba(255,255,255,0.3);
        box-shadow: 0 20px 40px rgba(102, 126, 234, 0.4);
        animation: pulse 3s infinite ease-in-out;
    }

    .shadow-icon {
        filter: drop-shadow(0 15px 25px rgba(0,0,0,0.2));
        color: white;
    }

    /* Kartochkalar */
    .accent-card {
        border-left: 8px solid #667eea;
        background: linear-gradient(135deg, #f8fbff 0%, #e8f4ff 100%);
        padding: 35px;
        border-radius: 0 20px 20px 0;
        margin-bottom: 30px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        transition: all 0.3s ease;
    }

        .accent-card:hover {
            transform: translateX(5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.1);
        }

    .warning-box {
        background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
        border-left: 8px solid #e74c3c;
        padding: 30px;
        border-radius: 15px;
        margin: 35px 0;
        box-shadow: 0 8px 20px rgba(231, 76, 60, 0.1);
    }

    .sub-title {
        font-weight: 700;
        color: #1e3c72;
        margin-bottom: 15px;
        font-size: 1.15rem;
    }

    .icon-box {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border: 2px solid #eef2f7;
        padding: 25px;
        border-radius: 20px;
        height: 100%;
        transition: all 0.4s ease;
    }

        .icon-box:hover {
            background: linear-gradient(135deg, #e8f4ff 0%, #d4e9ff 100%);
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.2);
        }

    /* Time format badge */
    .time-badge {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 8px 20px;
        border-radius: 10px;
        font-weight: 800;
        font-size: 1.1rem;
        letter-spacing: 2px;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        font-family: 'Courier New', monospace;
    }

    /* Gradient text */
    .gradient-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Success/Warning/Danger boxes yanada chiroyli */
    .status-box {
        padding: 15px 20px;
        border-radius: 15px;
        font-weight: 600;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

        .status-box:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
</style>

<div class="instruction-wrapper">
    <div class="container-fluid mb-5">
        <div class="admin-entry-card p-5">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <div class="d-flex align-items-center mb-4">
                        <div class="admin-badge">
                            <i class="fas fa-user-shield mr-2"></i> ADMIN PANEL
                        </div>
                        <div class="h-line ml-3"></div>
                    </div>

                    <h1 class="display-3 font-weight-bold text-dark mb-4">
                        Полное Руководство <br>
                        <span class="gradient-text">Главного Администратора</span>
                    </h1>

                    <p class="lead text-muted" style="max-width: 600px; font-size: 1.2rem;">
                        Добро пожаловать в центр управления. Здесь собраны все инструменты и правила для эффективного контроля системы посещаемости.
                    </p>
                </div>

                <div class="col-lg-4 text-center d-none d-lg-block">
                    <div class="admin-icon-circle">
                        <i class="fas fa-tools shadow-icon"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <section class="section-container">
            <h2 class="mb-5 d-flex align-items-center">
                <span class="step-dot">1</span>
                <span class="gradient-text">Синхронизация данных (Логи)</span>
            </h2>

            <div class="accent-card">
                <span class="btn-label bg-primary text-white">
                    <i class="fas fa-download mr-2"></i> Шаг 1. ЗАГРУЗИТЬ ЛОГИ
                </span>
                <div class="mt-3">
                    <p class="font-weight-bold text-dark" style="font-size: 1.1rem;">
                        Прежде чем работать с табелем, нужно получить данные из облака TTLock.
                    </p>
                    <ul class="info-list">
                        <li><strong>Как это работает:</strong> Система запрашивает API TTLock и загружает все новые события проходов в реальном времени.</li>
                        <li><strong>Защита от дублей:</strong> Умный алгоритм проверяет последнюю запись в базе и добавляет фильтр +2 секунды, чтобы исключить повторы.</li>
                        <li><strong>Безопасность:</strong> Все данные шифруются и надежно хранятся в защищенной базе данных.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section-container">
            <h2 class="mb-5 d-flex align-items-center">
                <span class="step-dot bg-success">2</span>
                <span style="color: #28a745;">Управление табелями</span>
            </h2>

            <div class="accent-card" style="border-left-color: #28a745; background: linear-gradient(135deg, #f4fff7 0%, #e8f8e8 100%);">
                <span class="btn-label bg-success text-white">
                    <i class="fas fa-magic mr-2"></i> ЦЕНТРАЛЬНЫЙ ФУНКЦИОНАЛ
                </span>
                <p class="font-weight-bold mb-4" style="font-size: 1.1rem;">
                    В разделе "Управление табелями" система работает автоматически:
                </p>

                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="icon-box shadow">
                            <div class="sub-title text-primary">
                                <i class="fas fa-magic mr-2"></i> Умная Генерация
                            </div>
                            <p class="small text-muted mb-0">
                                При первом нажатии создается полная сетка месяца. При повторных — заполняются только пустые ячейки (где было 00:00) новыми данными из логов.
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="icon-box shadow">
                            <div class="sub-title text-info">
                                <i class="fas fa-calendar-alt mr-2"></i> Просмотр Табеля
                            </div>
                            <p class="small text-muted mb-0">
                                Индивидуальный календарь каждого сотрудника. Здесь можно оправдать опоздание (Justified) или скорректировать время вручную при необходимости.
                            </p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="icon-box shadow">
                            <div class="sub-title text-dark">
                                <i class="fas fa-database mr-2"></i> Полная История
                            </div>
                            <p class="small text-muted mb-0">
                                Кнопка <strong>"Все входы"</strong> покажет абсолютно все касания сотрудником терминала в течение дня, а не только первое.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <h5 class="font-weight-bold text-danger">
                    <i class="fas fa-exclamation-triangle mr-2"></i> ВАЖНОЕ ПРАВИЛО
                </h5>
                <p class="mb-0" style="font-size: 1.05rem;">
                    Если вы видите <strong>00:00</strong> в табеле — это значит либо сотрудник не пришел, либо вы еще не нажали "Генерировать табель" после загрузки свежих логов.
                </p>
            </div>
        </section>

        <section class="section-container">
            <h2 class="mb-5 d-flex align-items-center">
                <span class="step-dot bg-info">3</span>
                <span style="color: #17a2b8;">Оперативный мониторинг</span>
            </h2>
            <div class="accent-card" style="border-left-color: #17a2b8; background: linear-gradient(135deg, #e7f9fc 0%, #d1f2f8 100%);">
                <span class="btn-label bg-info text-white">
                    <i class="fas fa-chart-line mr-2"></i> ЕЖЕДНЕВНЫЙ ОТЧЕТ
                </span>
                <p class="mb-4" style="font-size: 1.05rem;">
                    Инструмент для контроля ситуации "здесь и сейчас":
                </p>
                <div class="row">
                    <div class="col-md-4">
                        <div class="status-box bg-success text-white">
                            <i class="fas fa-check-circle mr-2"></i> Вовремя
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="status-box bg-danger text-white">
                            <i class="fas fa-clock mr-2"></i> Опоздали
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="status-box bg-warning text-dark">
                            <i class="fas fa-user-slash mr-2"></i> Отсутствуют
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section-container" style="border-top: 6px solid #dc3545 !important;">
            <h2 class="mb-5 d-flex align-items-center">
                <span class="step-dot bg-danger">4</span>
                <span style="color: #dc3545;">Настройки и Безопасность</span>
            </h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="p-4 border-start border-primary border-5 bg-light rounded h-100 shadow-sm">
                        <h6 class="font-weight-bold text-dark mb-3">
                            <i class="fas fa-file-invoice-dollar text-primary mr-2"></i>
                            Месячная Отчетность
                        </h6>
                        <p class="small text-muted mb-3">
                            <strong>Назначение:</strong> Финальный свод данных за календарный месяц для бухгалтерии и отдела кадров.
                        </p>
                        <hr>
                        <p class="small font-weight-bold mb-2">Что включает в себя отчет:</p>
                        <ul class="small text-muted pl-3 mb-3">
                            <li><strong>Итоги месяца:</strong> Общее количество минут опозданий по каждому сотруднику.</li>
                            <li><strong>Контроль лимитов:</strong> Автоматический расчет превышения допустимых норм опозданий.</li>
                            <li><strong>Архив:</strong> Возможность просмотреть историю за предыдущие месяцы.</li>
                        </ul>
                        <div class="p-3 bg-white rounded border shadow-sm">
                            <p class="small mb-0 text-dark">
                                <i class="fas fa-calendar-check text-success mr-2"></i>
                                <strong>Когда использовать:</strong> Обычно в конце месяца для формирования отчетов.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="p-4 border-start border-warning border-5 bg-light rounded h-100 shadow-sm">
                        <h6 class="font-weight-bold text-dark mb-3">
                            <i class="fas fa-business-time text-warning mr-2"></i>
                            Рабочие Графики
                        </h6>
                        <p class="small text-muted mb-3">
                            <strong>Миссия:</strong> Установка "эталонного" времени прихода для автоматического расчета опозданий.
                        </p>
                        <hr>

                        <div class="alert alert-info border-0 shadow-sm mb-3">
                            <p class="small mb-2"><strong><i class="fas fa-clock mr-1"></i> Формат времени:</strong></p>
                            <div class="text-center mb-2">
                                <span class="time-badge">24-ЧАСОВОЙ</span>
                            </div>
                            <p class="small mb-0 text-muted">
                                Система использует <strong>24-часовой формат</strong> (00:00 - 23:59).
                                
                            </p>
                        </div>

                        <div class="small mb-3">
                            <p class="mb-2"><strong><i class="fas fa-keyboard text-muted mr-1"></i> Примеры ввода:</strong></p>
                            <ul class="text-muted pl-3 mb-0">
                                <li><span class="time-badge" style="font-size: 0.85rem; padding: 4px 12px;">09:00</span> — утро</li>
                                <li><span class="time-badge" style="font-size: 0.85rem; padding: 4px 12px;">14:30</span> — после обеда</li>
                                <li><span class="time-badge" style="font-size: 0.85rem; padding: 4px 12px;">18:00</span> — вечер</li>
                            </ul>
                        </div>

                        <div class="p-3 bg-white rounded border border-warning">
                            <p class="small mb-0">
                                <i class="fas fa-info-circle text-warning mr-1"></i>
                                <strong>Важно:</strong> Проверяйте корректность введенного времени перед сохранением.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="p-4 border-start border-danger border-5 bg-light rounded h-100 shadow-sm">
                        <h6 class="font-weight-bold text-dark mb-3">
                            <i class="fas fa-id-card text-danger mr-2"></i>
                            Синхронизация ID
                        </h6>
                        <p class="small text-muted mb-3">
                            <strong>Функция:</strong> Привязка аппаратных ID из системы TTLock к именам сотрудников в вашей базе.
                        </p>
                        <hr>
                        <p class="small font-italic mb-2">
                            <i class="fas fa-exclamation-circle text-danger mr-1"></i>
                            <strong>Когда это обязательно:</strong>
                        </p>
                        <ul class="small text-muted pl-3 mb-3">
                            <li><strong>Первый запуск:</strong> При самой первой настройке системы.</li>
                            <li><strong>Новый сотрудник:</strong> После добавления нового человека в TTLock и выдачи ему IC-карты.</li>
                            <li><strong>Изменение данных:</strong> Если переименовали сотрудника или заменили карту/ID.</li>
                        </ul>
                        <div class="p-3 bg-white rounded border border-danger">
                            <p class="small mb-0">
                                <i class="fas fa-shield-alt text-danger mr-1"></i>
                                <strong>Безопасность:</strong> Все ID надежно зашифрованы в базе данных.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="text-center mt-5 pt-5 border-top">
            <div class="mb-4">
                <span class="rocket-animation">🚀</span>
            </div>
            <h3 class="font-weight-bold display-4 mb-3">
                <span class="gradient-text">Поздравляю, вы в теме!</span>
            </h3>
            <p class="text-muted mx-auto mb-4" style="max-width: 700px; font-size: 1.15rem;">
                Теперь вы знаете все тонкости работы системы.
                Система максимально автоматизирована. Ваша задача — вовремя загружать логи и проверять обоснованность опозданий.
            </p>

            <div class="mt-5">
                <a asp-controller="AdminAttendance" asp-action="Dashboard"
                   class="btn btn-lg px-5 py-3 shadow-lg"
                   style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                          color: white;
                          border-radius: 20px;
                          font-weight: bold;
                          border: none;
                          transition: all 0.3s ease;">
                    <i class="fas fa-arrow-left mr-2"></i> Вернуться к управлению
                </a>
            </div>

            <div class="mt-5 text-secondary">
                <small>
                    <i class="fas fa-check-circle mr-1 text-success"></i>
                    Чтение инструкции завершено. Успешного рабочего дня!
                </small>
            </div>
        </div>
    </div>
</div>